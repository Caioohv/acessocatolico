import{_ as T}from"./C4sSfo7S.js";import R from"./DcD60dw0.js";import{e as q,p as I,f as A,q as F,h as c,s as O,c as d,a as t,b as v,w as D,n as r,k as x,v as n,l as s,t as p,x as U,y as N,z as g,A as B,F as L,B as j,m as z,C as $,o as u,d as f}from"./wPnuorX7.js";import{u as H}from"./DSzEGoJn.js";const J={class:"container mx-auto px-4 py-8"},G={class:"mb-8"},K={class:"flex items-center space-x-2 text-sm mb-4"},Q={class:"bg-white rounded-lg shadow-sm border p-6"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},X={class:"md:col-span-2"},Y={key:0,class:"text-sm text-gray-500 mt-1"},Z={class:"mt-6"},h={class:"bg-white rounded-lg shadow-sm border p-6"},_={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ee={class:"mt-6"},te={class:"flex items-center gap-3"},oe={key:0,class:"mt-4"},se={class:"bg-white rounded-lg shadow-sm border p-6"},le={class:"space-y-6"},re={class:"flex items-center gap-3"},ne={key:0,class:"space-y-6"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},de={class:"flex items-center gap-3"},ue={class:"bg-white rounded-lg shadow-sm border p-6"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pe={class:"bg-white rounded-lg shadow-sm border p-6"},ge={class:"space-y-6"},be={key:0,class:"flex flex-wrap gap-2 mt-2"},xe=["onClick"],ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ve={class:"space-y-4"},fe={class:"flex items-center gap-3"},ye={class:"flex items-center gap-3"},we={class:"bg-white rounded-lg shadow-sm border p-6"},ke={class:"space-y-6"},De={class:"text-sm text-gray-500 mt-1"},Ue={class:"text-sm text-gray-500 mt-1"},Ee={class:"flex justify-between items-center pt-6 border-t"},Ve={class:"flex gap-4"},Se=["disabled"],Ce=["disabled"],Ae=q({__name:"criar",setup(Me){I({title:"Criar Evento - Acesso Católico",description:"Crie um novo evento católico na plataforma Acesso Católico",robots:"noindex, nofollow"});const{user:b}=A(),{createEvent:E,generateSlug:V}=H();if(!b.value||b.value.role!=="ADMIN"&&b.value.role!=="PRIEST")throw F({statusCode:403,statusMessage:"Acesso negado"});const i=c(!1),m=c(""),o=c({title:"",description:"",category:"",status:"DRAFT",startDate:"",endDate:"",location:"",address:"",isOnline:!1,onlineUrl:"",registrationRequired:!0,maxParticipants:null,minParticipants:1,registrationStart:"",registrationEnd:"",requiresApproval:!1,price:null,tags:[],ageMin:null,ageMax:null,isPublic:!0,isFeatured:!1,metaTitle:"",metaDescription:""}),S=()=>{if(m.value.trim()){const a=m.value.split(",").map(e=>e.trim()).filter(e=>e.length>0).filter(e=>!o.value.tags.includes(e));o.value.tags=[...o.value.tags,...a],m.value=""}},C=a=>{o.value.tags.splice(a,1)},M=async()=>{o.value.status="DRAFT",await y()},y=async()=>{if(!i.value){i.value=!0;try{const a={...o.value,organizerId:b.value.id,endDate:o.value.endDate||void 0,address:o.value.address||void 0,onlineUrl:o.value.isOnline?o.value.onlineUrl:void 0,maxParticipants:o.value.maxParticipants||void 0,registrationStart:o.value.registrationStart||void 0,registrationEnd:o.value.registrationEnd||void 0,price:o.value.price||void 0,ageMin:o.value.ageMin||void 0,ageMax:o.value.ageMax||void 0,metaTitle:o.value.metaTitle||void 0,metaDescription:o.value.metaDescription||void 0,tags:o.value.tags.length>0?o.value.tags:void 0},e=await E(a);e.success&&e.event&&await $(`/eventos/${e.event.slug}`)}catch(a){console.error("Erro ao criar evento:",a),alert("Erro ao criar evento: "+(a.message||"Erro desconhecido"))}finally{i.value=!1}}};return O(()=>{const a=new Date,e=new Date(a);e.setDate(e.getDate()+1),o.value.registrationStart=a.toISOString().slice(0,16),o.value.startDate=e.toISOString().slice(0,16)}),(a,e)=>{const w=T,P=R;return u(),d("div",J,[t("div",G,[t("nav",K,[v(w,{to:"/eventos",class:"text-blue-600 hover:text-blue-800"},{default:D(()=>e[24]||(e[24]=[f("Eventos")])),_:1,__:[24]}),v(P,{name:"heroicons:chevron-right",class:"w-4 h-4 text-gray-400"}),e[25]||(e[25]=t("span",{class:"text-gray-500"},"Criar evento",-1))]),e[26]||(e[26]=t("h1",{class:"text-3xl font-bold text-gray-900"},"Criar novo evento",-1)),e[27]||(e[27]=t("p",{class:"text-gray-600 mt-2"},"Preencha as informações para criar seu evento católico",-1))]),t("form",{onSubmit:z(y,["prevent"]),class:"space-y-8"},[t("div",Q,[e[35]||(e[35]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Informações básicas",-1)),t("div",W,[t("div",X,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Título do evento * ",-1)),r(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s(o).title=l),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Retiro de Carnaval 2024"},null,512),[[n,s(o).title]]),s(o).title?(u(),d("p",Y," URL: /eventos/"+p(s(V)(s(o).title)),1)):x("",!0)]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Categoria * ",-1)),r(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>s(o).category=l),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},e[29]||(e[29]=[N('<option value="">Selecione uma categoria</option><option value="Retiro">Retiro</option><option value="Missa">Missa</option><option value="Palestra">Palestra</option><option value="Formação">Formação</option><option value="Encontro">Encontro</option><option value="Celebração">Celebração</option><option value="Peregrinação">Peregrinação</option><option value="Adoração">Adoração</option><option value="Novena">Novena</option><option value="Outro">Outro</option>',11)]),512),[[U,s(o).category]])]),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Status ",-1)),r(t("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>s(o).status=l),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},e[31]||(e[31]=[t("option",{value:"DRAFT"},"Rascunho",-1),t("option",{value:"PUBLISHED"},"Publicado",-1)]),512),[[U,s(o).status]]),e[33]||(e[33]=t("p",{class:"text-sm text-gray-500 mt-1"}," Rascunhos não ficam visíveis publicamente ",-1))])]),t("div",Z,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Descrição * ",-1)),r(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=l=>s(o).description=l),required:"",rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Breve descrição do evento..."},null,512),[[n,s(o).description]])])]),t("div",h,[e[42]||(e[42]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Data e local",-1)),t("div",_,[t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Data e hora de início * ",-1)),r(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s(o).startDate=l),type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,s(o).startDate]])]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Data e hora de fim ",-1)),r(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(o).endDate=l),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,s(o).endDate]])]),t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Local * ",-1)),r(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>s(o).location=l),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Igreja São João Batista"},null,512),[[n,s(o).location]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Endereço completo ",-1)),r(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>s(o).address=l),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Rua, número, bairro, cidade - UF"},null,512),[[n,s(o).address]])])]),t("div",ee,[t("label",te,[r(t("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>s(o).isOnline=l),type:"checkbox",class:"w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[g,s(o).isOnline]]),e[40]||(e[40]=t("span",{class:"text-sm font-medium text-gray-700"}," Este é um evento online ",-1))]),s(o).isOnline?(u(),d("div",oe,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Link da transmissão ",-1)),r(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>s(o).onlineUrl=l),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://..."},null,512),[[n,s(o).onlineUrl]])])):x("",!0)])]),t("div",se,[e[49]||(e[49]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Inscrições",-1)),t("div",le,[t("div",null,[t("label",re,[r(t("input",{"onUpdate:modelValue":e[10]||(e[10]=l=>s(o).registrationRequired=l),type:"checkbox",class:"w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[g,s(o).registrationRequired]]),e[43]||(e[43]=t("span",{class:"text-sm font-medium text-gray-700"}," Requer inscrição prévia ",-1))])]),s(o).registrationRequired?(u(),d("div",ne,[t("div",ae,[t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Número máximo de participantes ",-1)),r(t("input",{"onUpdate:modelValue":e[11]||(e[11]=l=>s(o).maxParticipants=l),type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 100"},null,512),[[n,s(o).maxParticipants,void 0,{number:!0}]])]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Número mínimo de participantes ",-1)),r(t("input",{"onUpdate:modelValue":e[12]||(e[12]=l=>s(o).minParticipants=l),type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 10"},null,512),[[n,s(o).minParticipants,void 0,{number:!0}]])])]),t("div",ie,[t("div",null,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Início das inscrições ",-1)),r(t("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>s(o).registrationStart=l),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,s(o).registrationStart]])]),t("div",null,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Fim das inscrições ",-1)),r(t("input",{"onUpdate:modelValue":e[14]||(e[14]=l=>s(o).registrationEnd=l),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,s(o).registrationEnd]])])]),t("div",null,[t("label",de,[r(t("input",{"onUpdate:modelValue":e[15]||(e[15]=l=>s(o).requiresApproval=l),type:"checkbox",class:"w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[g,s(o).requiresApproval]]),e[48]||(e[48]=t("span",{class:"text-sm font-medium text-gray-700"}," Inscrições requerem aprovação manual ",-1))])])])):x("",!0)])]),t("div",ue,[e[52]||(e[52]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Preço",-1)),t("div",me,[t("div",null,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Valor (R$) ",-1)),r(t("input",{"onUpdate:modelValue":e[16]||(e[16]=l=>s(o).price=l),type:"number",min:"0",step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"},null,512),[[n,s(o).price,void 0,{number:!0}]]),e[51]||(e[51]=t("p",{class:"text-sm text-gray-500 mt-1"}," Deixe vazio para evento gratuito ",-1))])])]),t("div",pe,[e[58]||(e[58]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configurações avançadas",-1)),t("div",ge,[t("div",null,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Tags ",-1)),r(t("input",{"onUpdate:modelValue":e[17]||(e[17]=l=>B(m)?m.value=l:null),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"jovens, família, oração (separadas por vírgula)",onBlur:S},null,544),[[n,s(m)]]),s(o).tags&&s(o).tags.length>0?(u(),d("div",be,[(u(!0),d(L,null,j(s(o).tags,(l,k)=>(u(),d("span",{key:k,class:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm flex items-center gap-1"},[f(" #"+p(l)+" ",1),t("button",{type:"button",onClick:Pe=>C(k),class:"text-blue-600 hover:text-blue-800"}," × ",8,xe)]))),128))])):x("",!0)]),t("div",ce,[t("div",null,[e[54]||(e[54]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Idade mínima ",-1)),r(t("input",{"onUpdate:modelValue":e[18]||(e[18]=l=>s(o).ageMin=l),type:"number",min:"0",max:"120",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 16"},null,512),[[n,s(o).ageMin,void 0,{number:!0}]])]),t("div",null,[e[55]||(e[55]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Idade máxima ",-1)),r(t("input",{"onUpdate:modelValue":e[19]||(e[19]=l=>s(o).ageMax=l),type:"number",min:"0",max:"120",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 35"},null,512),[[n,s(o).ageMax,void 0,{number:!0}]])])]),t("div",ve,[t("div",null,[t("label",fe,[r(t("input",{"onUpdate:modelValue":e[20]||(e[20]=l=>s(o).isPublic=l),type:"checkbox",class:"w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[g,s(o).isPublic]]),e[56]||(e[56]=t("span",{class:"text-sm font-medium text-gray-700"}," Evento público (visível na listagem) ",-1))])]),t("div",null,[t("label",ye,[r(t("input",{"onUpdate:modelValue":e[21]||(e[21]=l=>s(o).isFeatured=l),type:"checkbox",class:"w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[g,s(o).isFeatured]]),e[57]||(e[57]=t("span",{class:"text-sm font-medium text-gray-700"}," Destacar evento ",-1))])])])])]),t("div",we,[e[61]||(e[61]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"SEO e Metadata",-1)),t("div",ke,[t("div",null,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Título SEO ",-1)),r(t("input",{"onUpdate:modelValue":e[22]||(e[22]=l=>s(o).metaTitle=l),type:"text",maxlength:"60",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Título para mecanismos de busca (máx. 60 caracteres)"},null,512),[[n,s(o).metaTitle]]),t("p",De,p((s(o).metaTitle||"").length)+"/60 caracteres ",1)]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Descrição SEO ",-1)),r(t("textarea",{"onUpdate:modelValue":e[23]||(e[23]=l=>s(o).metaDescription=l),maxlength:"160",rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descrição para mecanismos de busca (máx. 160 caracteres)"},null,512),[[n,s(o).metaDescription]]),t("p",Ue,p((s(o).metaDescription||"").length)+"/160 caracteres ",1)])])]),t("div",Ee,[v(w,{to:"/eventos",class:"text-gray-600 hover:text-gray-800 px-6 py-3 rounded-lg transition-colors"},{default:D(()=>e[62]||(e[62]=[f(" Cancelar ")])),_:1,__:[62]}),t("div",Ve,[t("button",{type:"button",onClick:M,disabled:s(i),class:"border border-gray-300 hover:bg-gray-50 text-gray-700 px-6 py-3 rounded-lg transition-colors disabled:opacity-50"},p(s(i)?"Salvando...":"Salvar rascunho"),9,Se),t("button",{type:"submit",disabled:s(i),class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50"},p(s(i)?"Criando...":"Criar evento"),9,Ce)])])],32)])}}});export{Ae as default};
