import{P as J,r as we,t as re,_ as ce,b as Ce,g as ne,a as $e}from"./BtdOvfXc.js";import{_ as Ie}from"./Bd5iK0Qo.js";import{_ as xe}from"./CNRbpt9r.js";import{_ as Pe}from"./B3ORKnUs.js";import{e as j,M as ve,h as R,j as T,o as v,w as u,N as L,l as s,D as q,s as pe,b as n,I as se,k as M,G as ie,L as Te,O as oe,P as ze,m as ge,Q as Le,R as Re,c as V,E as D,F as H,B as F,d as I,t as b,S as Be,J as Y,r as de,a,A as ue,i as Ne,_ as Me}from"./wPnuorX7.js";import{u as Ue}from"./Dm6-dgtR.js";import{c as qe,u as Q,a as Oe,b as De,P as He,d as Fe}from"./BKhI9f09.js";import{a as je,b as Ke,_ as Ge}from"./CWNVVxTE.js";import{u as Ye}from"./Dw2envGg.js";import{_ as Je}from"./C0D3NDhG.js";import{_ as Qe}from"./bOSK1H7f.js";import{u as We}from"./Ba4-aC7x.js";import"./DcD60dw0.js";import"./CMLLu8c2.js";import"./C4sSfo7S.js";import"./BeGsyJa-.js";import"./CHIgUVhi.js";import"./Bwuw1Nl5.js";import"./CryAMGYs.js";function fe(k,y){return`${k}-trigger-${y}`}function me(k,y){return`${k}-content-${y}`}const[Z,Xe]=qe("TabsRoot"),Ze=j({__name:"TabsRoot",props:{defaultValue:{},orientation:{default:"horizontal"},dir:{},activationMode:{default:"automatic"},modelValue:{},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(k,{emit:y}){const i=k,c=y,{orientation:r,unmountOnHide:l,dir:m}=ve(i),d=Ye(m);Q();const g=Oe(i,"modelValue",c,{defaultValue:i.defaultValue,passive:i.modelValue===void 0}),x=R();return Xe({modelValue:g,changeModelValue:w=>{g.value=w},orientation:r,dir:d,unmountOnHide:l,activationMode:i.activationMode,baseId:De(void 0,"reka-tabs"),tabsList:x}),(w,U)=>(v(),T(s(J),{dir:s(d),"data-orientation":s(r),"as-child":w.asChild,as:w.as},{default:u(()=>[L(w.$slots,"default",{modelValue:s(g)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),ea=j({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(k){const y=k,{forwardRef:i}=Q(),c=Z(),r=q(()=>fe(c.baseId,y.value)),l=q(()=>me(c.baseId,y.value)),m=q(()=>y.value===c.modelValue.value),d=R(m.value);return pe(()=>{requestAnimationFrame(()=>{d.value=!1})}),(g,x)=>(v(),T(s(He),{present:g.forceMount||m.value,"force-mount":""},{default:u(({present:w})=>[n(s(J),{id:l.value,ref:s(i),"as-child":g.asChild,as:g.as,role:"tabpanel","data-state":m.value?"active":"inactive","data-orientation":s(c).orientation.value,"aria-labelledby":r.value,hidden:!w,tabindex:"0",style:se({animationDuration:d.value?"0s":void 0})},{default:u(()=>[!s(c).unmountOnHide.value||w?L(g.$slots,"default",{key:0}):M("",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),aa=j({__name:"TabsIndicator",props:{asChild:{type:Boolean},as:{}},setup(k){const y=k,i=Z();Q();const c=R(),r=R({size:null,position:null});ie(()=>[i.modelValue.value,i==null?void 0:i.dir.value],async()=>{await Te(),l()},{immediate:!0}),Fe([i.tabsList,c],l);function l(){var m;c.value=(m=i.tabsList.value)==null?void 0:m.querySelector('[role="tab"][data-state="active"]'),c.value&&(i.orientation.value==="horizontal"?r.value={size:c.value.offsetWidth,position:c.value.offsetLeft}:r.value={size:c.value.offsetHeight,position:c.value.offsetTop})}return(m,d)=>typeof r.value.size=="number"?(v(),T(s(J),oe({key:0},y,{style:{"--reka-tabs-indicator-size":`${r.value.size}px`,"--reka-tabs-indicator-position":`${r.value.position}px`}}),{default:u(()=>[L(m.$slots,"default")]),_:3},16,["style"])):M("",!0)}}),ta=j({__name:"TabsList",props:{loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},setup(k){const y=k,{loop:i}=ve(y),{forwardRef:c,currentElement:r}=Q(),l=Z();return l.tabsList=r,(m,d)=>(v(),T(s(je),{"as-child":"",orientation:s(l).orientation.value,dir:s(l).dir.value,loop:s(i)},{default:u(()=>[n(s(J),{ref:s(c),role:"tablist","as-child":m.asChild,as:m.as,"aria-orientation":s(l).orientation.value},{default:u(()=>[L(m.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),sa=j({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"}},setup(k){const y=k,{forwardRef:i}=Q(),c=Z(),r=q(()=>fe(c.baseId,y.value)),l=q(()=>me(c.baseId,y.value)),m=q(()=>y.value===c.modelValue.value);return(d,g)=>(v(),T(s(Ke),{"as-child":"",focusable:!d.disabled,active:m.value},{default:u(()=>[n(s(J),{id:r.value,ref:s(i),role:"tab",type:d.as==="button"?"button":void 0,as:d.as,"as-child":d.asChild,"aria-selected":m.value?"true":"false","aria-controls":l.value,"data-state":m.value?"active":"inactive",disabled:d.disabled,"data-disabled":d.disabled?"":void 0,"data-orientation":s(c).orientation.value,onMousedown:g[0]||(g[0]=ge(x=>{!d.disabled&&x.ctrlKey===!1?s(c).changeModelValue(d.value):x.preventDefault()},["left"])),onKeydown:g[1]||(g[1]=ze(x=>s(c).changeModelValue(d.value),["enter","space"])),onFocus:g[2]||(g[2]=()=>{const x=s(c).activationMode!=="manual";!m.value&&!d.disabled&&x&&s(c).changeModelValue(d.value)})},{default:u(()=>[L(d.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),ia={slots:{root:"flex items-center gap-2",list:"relative flex p-1 group",indicator:"absolute transition-[translate,width] duration-200",trigger:["group relative inline-flex items-center min-w-0 data-[state=inactive]:text-muted hover:data-[state=inactive]:not-disabled:text-default font-medium rounded-md disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],content:"focus:outline-none w-full",leadingIcon:"shrink-0",leadingAvatar:"shrink-0",leadingAvatarSize:"",label:"truncate"},variants:{color:{primary:"","primary-light":"","primary-lighter":"",secondary:"","secondary-light":"","ui-darker":"","ui-dark":"",ui:"","ui-light":"","ui-lighter":"",neutral:""},variant:{pill:{list:"bg-elevated rounded-lg",trigger:"grow",indicator:"rounded-md shadow-xs"},link:{list:"border-default",indicator:"rounded-full",trigger:"focus:outline-none"}},orientation:{horizontal:{root:"flex-col",list:"w-full",indicator:"left-0 w-(--reka-tabs-indicator-size) translate-x-(--reka-tabs-indicator-position)",trigger:"justify-center"},vertical:{list:"flex-col",indicator:"top-0 h-(--reka-tabs-indicator-size) translate-y-(--reka-tabs-indicator-position)"}},size:{xs:{trigger:"px-2 py-1 text-xs gap-1",leadingIcon:"size-4",leadingAvatarSize:"3xs"},sm:{trigger:"px-2.5 py-1.5 text-xs gap-1.5",leadingIcon:"size-4",leadingAvatarSize:"3xs"},md:{trigger:"px-3 py-1.5 text-sm gap-1.5",leadingIcon:"size-5",leadingAvatarSize:"2xs"},lg:{trigger:"px-3 py-2 text-sm gap-2",leadingIcon:"size-5",leadingAvatarSize:"2xs"},xl:{trigger:"px-3 py-2 text-base gap-2",leadingIcon:"size-6",leadingAvatarSize:"xs"}}},compoundVariants:[{orientation:"horizontal",variant:"pill",class:{indicator:"inset-y-1"}},{orientation:"horizontal",variant:"link",class:{list:"border-b -mb-px",indicator:"-bottom-px h-px"}},{orientation:"vertical",variant:"pill",class:{indicator:"inset-x-1",list:"items-center"}},{orientation:"vertical",variant:"link",class:{list:"border-s -ms-px",indicator:"-start-px w-px"}},{color:"primary",variant:"pill",class:{indicator:"bg-primary",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"}},{color:"primary-light",variant:"pill",class:{indicator:"bg-primary-light",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-light"}},{color:"primary-lighter",variant:"pill",class:{indicator:"bg-primary-lighter",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-lighter"}},{color:"secondary",variant:"pill",class:{indicator:"bg-secondary",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-secondary"}},{color:"secondary-light",variant:"pill",class:{indicator:"bg-secondary-light",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-secondary-light"}},{color:"ui-darker",variant:"pill",class:{indicator:"bg-ui-darker",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ui-darker"}},{color:"ui-dark",variant:"pill",class:{indicator:"bg-ui-dark",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ui-dark"}},{color:"ui",variant:"pill",class:{indicator:"bg-ui",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ui"}},{color:"ui-light",variant:"pill",class:{indicator:"bg-ui-light",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ui-light"}},{color:"ui-lighter",variant:"pill",class:{indicator:"bg-ui-lighter",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ui-lighter"}},{color:"neutral",variant:"pill",class:{indicator:"bg-inverted",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-inverted"}},{color:"primary",variant:"link",class:{indicator:"bg-primary",trigger:"data-[state=active]:text-primary focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"}},{color:"primary-light",variant:"link",class:{indicator:"bg-primary-light",trigger:"data-[state=active]:text-primary-light focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary-light"}},{color:"primary-lighter",variant:"link",class:{indicator:"bg-primary-lighter",trigger:"data-[state=active]:text-primary-lighter focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary-lighter"}},{color:"secondary",variant:"link",class:{indicator:"bg-secondary",trigger:"data-[state=active]:text-secondary focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"}},{color:"secondary-light",variant:"link",class:{indicator:"bg-secondary-light",trigger:"data-[state=active]:text-secondary-light focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary-light"}},{color:"ui-darker",variant:"link",class:{indicator:"bg-ui-darker",trigger:"data-[state=active]:text-ui-darker focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-ui-darker"}},{color:"ui-dark",variant:"link",class:{indicator:"bg-ui-dark",trigger:"data-[state=active]:text-ui-dark focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-ui-dark"}},{color:"ui",variant:"link",class:{indicator:"bg-ui",trigger:"data-[state=active]:text-ui focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-ui"}},{color:"ui-light",variant:"link",class:{indicator:"bg-ui-light",trigger:"data-[state=active]:text-ui-light focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-ui-light"}},{color:"ui-lighter",variant:"link",class:{indicator:"bg-ui-lighter",trigger:"data-[state=active]:text-ui-lighter focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-ui-lighter"}},{color:"neutral",variant:"link",class:{indicator:"bg-inverted",trigger:"data-[state=active]:text-highlighted focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"}}],defaultVariants:{color:"primary",variant:"pill",size:"md"}},oa={__name:"Tabs",props:{as:{type:null,required:!1},items:{type:Array,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},content:{type:Boolean,required:!1,default:!0},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},defaultValue:{type:null,required:!1,default:"0"},modelValue:{type:null,required:!1},activationMode:{type:String,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(k,{emit:y}){const i=k,c=y,r=Le(),l=Re(),m=Ue(we(i,"as","modelValue","defaultValue","orientation","activationMode","unmountOnHide"),c),d=q(()=>{var g;return re({extend:re(ia),...((g=l.ui)==null?void 0:g.tabs)||{}})({color:i.color,variant:i.variant,size:i.size,orientation:i.orientation})});return(g,x)=>{var w;return v(),T(s(Ze),oe(s(m),{class:d.value.root({class:[(w=i.ui)==null?void 0:w.root,i.class]})}),{default:u(()=>{var U;return[n(s(ta),{class:D(d.value.list({class:(U=i.ui)==null?void 0:U.list}))},{default:u(()=>{var C;return[n(s(aa),{class:D(d.value.indicator({class:(C=i.ui)==null?void 0:C.indicator}))},null,8,["class"]),L(g.$slots,"list-leading"),(v(!0),V(H,null,F(k.items,(h,E)=>{var _,A;return v(),T(s(sa),{key:E,value:h.value||String(E),disabled:h.disabled,class:D(d.value.trigger({class:[(_=i.ui)==null?void 0:_.trigger,(A=h.ui)==null?void 0:A.trigger]}))},{default:u(()=>{var f,p;return[L(g.$slots,"leading",{item:h,index:E},()=>{var o,S,B,P,W;return[h.icon?(v(),T(ce,{key:0,name:h.icon,class:D(d.value.leadingIcon({class:[(o=i.ui)==null?void 0:o.leadingIcon,(S=h.ui)==null?void 0:S.leadingIcon]}))},null,8,["name","class"])):h.avatar?(v(),T(Ce,oe({key:1,size:((B=i.ui)==null?void 0:B.leadingAvatarSize)||d.value.leadingAvatarSize()},{ref_for:!0},h.avatar,{class:d.value.leadingAvatar({class:[(P=i.ui)==null?void 0:P.leadingAvatar,(W=h.ui)==null?void 0:W.leadingAvatar]})}),null,16,["size","class"])):M("",!0)]}),s(ne)(h,i.labelKey)||r.default?(v(),V("span",{key:0,class:D(d.value.label({class:[(f=i.ui)==null?void 0:f.label,(p=h.ui)==null?void 0:p.label]}))},[L(g.$slots,"default",{item:h,index:E},()=>[I(b(s(ne)(h,i.labelKey)),1)])],2)):M("",!0),L(g.$slots,"trailing",{item:h,index:E})]}),_:2},1032,["value","disabled","class"])}),128)),L(g.$slots,"list-trailing")]}),_:3},8,["class"]),k.content?(v(!0),V(H,{key:0},F(k.items,(C,h)=>{var E,_;return v(),T(s(ea),{key:h,value:C.value||String(h),class:D(d.value.content({class:[(E=i.ui)==null?void 0:E.content,(_=C.ui)==null?void 0:_.content,C.class]}))},{default:u(()=>[L(g.$slots,C.slot||"content",{item:C,index:h},()=>[I(b(C.content),1)])]),_:2},1032,["value","class"])}),128)):M("",!0)]}),_:3},16,["class"])}}},la=()=>{const{$api:k}=Be(),y=R([]),i=R([]),c=R([]),r=R(!1),l=R(null),m=async(f={})=>{var p;try{r.value=!0,l.value=null;const o=new URLSearchParams;Object.entries(f).forEach(([B,P])=>{P!==void 0&&o.append(B,String(P))});const S=await $fetch(`/api/participants/profiles?${o}`);return y.value=S.data,S}catch(o){throw l.value=((p=o.data)==null?void 0:p.message)||"Erro ao buscar participantes",o}finally{r.value=!1}},d=async f=>{var p;try{return r.value=!0,l.value=null,await $fetch("/api/participants/profiles",{method:"POST",body:f})}catch(o){throw l.value=((p=o.data)==null?void 0:p.message)||"Erro ao criar perfil",o}finally{r.value=!1}},g=async(f={})=>{var p;try{r.value=!0,l.value=null;const o=new URLSearchParams;Object.entries(f).forEach(([B,P])=>{P!==void 0&&o.append(B,String(P))});const S=await $fetch(`/api/badges?${o}`);return i.value=S.data,S}catch(o){throw l.value=((p=o.data)==null?void 0:p.message)||"Erro ao buscar badges",o}finally{r.value=!1}},x=async f=>{var p;try{return r.value=!0,l.value=null,await $fetch("/api/badges",{method:"POST",body:f})}catch(o){throw l.value=((p=o.data)==null?void 0:p.message)||"Erro ao criar badge",o}finally{r.value=!1}},w=async(f,p)=>{var o;try{return r.value=!0,l.value=null,await $fetch(`/api/participants/${f}/badges`,{method:"POST",body:p})}catch(S){throw l.value=((o=S.data)==null?void 0:o.message)||"Erro ao atribuir badge",S}finally{r.value=!1}},U=async f=>{var p;try{return r.value=!0,l.value=null,await $fetch(`/api/participants/${f}/promote`,{method:"POST"})}catch(o){throw l.value=((p=o.data)==null?void 0:p.message)||"Erro ao promover participante",o}finally{r.value=!1}},C=async(f={})=>{var p;try{r.value=!0,l.value=null;const o=new URLSearchParams;Object.entries(f).forEach(([B,P])=>{P!==void 0&&o.append(B,String(P))});const S=await $fetch(`/api/ministries?${o}`);return c.value=S,S}catch(o){throw l.value=((p=o.data)==null?void 0:p.message)||"Erro ao buscar ministÃ©rios",o}finally{r.value=!1}},h=async f=>{var p;try{return r.value=!0,l.value=null,await $fetch("/api/participants/history",{method:"POST",body:f})}catch(o){throw l.value=((p=o.data)==null?void 0:p.message)||"Erro ao registrar participaÃ§Ã£o",o}finally{r.value=!1}},E=f=>({NOVICE:"Novato",SERVANT:"Servo",LEADER:"LÃ­der"})[f]||f,_=f=>({MEMBER:"Membro",SERVANT:"Servo",LEADER:"LÃ­der",MINISTRY_HEAD:"ResponsÃ¡vel de MinistÃ©rio"})[f]||f,A=f=>({PARTICIPATION:"ParticipaÃ§Ã£o",ACHIEVEMENT:"Conquista",LEADERSHIP:"LideranÃ§a",SERVICE:"ServiÃ§o",SPECIAL:"Especial"})[f]||f;return{participants:Y(y),badges:Y(i),ministries:Y(c),loading:Y(r),error:Y(l),fetchParticipants:m,createParticipantProfile:d,fetchBadges:g,createBadge:x,awardBadge:w,promoteParticipant:U,fetchMinistries:C,recordParticipation:h,getLevelLabel:E,getRoleLabel:_,getBadgeTypeLabel:A}},ra={class:"admin-participants"},na={class:"page-header"},da={class:"header-actions"},ua={class:"participants-section"},ca={class:"filters-section"},va={class:"filters-grid"},pa={class:"participants-grid"},ga={class:"participant-header"},fa={class:"participant-avatar"},ma=["src","alt"],ba={key:1,class:"avatar-placeholder"},ya={class:"participant-info"},ha={class:"participant-name"},_a={class:"participant-email"},ka={class:"participant-stats"},Va={class:"stat-item"},Aa={class:"stat-item"},Ea={class:"stat-item"},Sa={class:"stat-value"},wa={class:"stat-item"},Ca={class:"stat-value"},$a={class:"stat-item"},Ia={class:"stat-value"},xa={class:"participant-badges"},Pa={class:"badges-grid"},Ta=["title"],za={key:1},La={key:0,class:"more-badges"},Ra={class:"participant-actions"},Ba={key:0,class:"loading-state"},Na={key:1,class:"empty-state"},Ma={class:"badges-section"},Ua={class:"badges-grid"},qa={class:"badge-header"},Oa={key:1,class:"default-icon"},Da={class:"badge-info"},Ha={class:"badge-name"},Fa={class:"badge-type"},ja={class:"badge-description"},Ka={class:"badge-stats"},Ga={class:"stat"},Ya={class:"stat-value"},Ja={class:"stat"},Qa={class:"stat"},Wa={class:"ministries-section"},Xa={class:"ministries-grid"},Za={class:"ministry-header"},et={class:"ministry-name"},at={class:"ministry-description"},tt={class:"ministry-stats"},st={class:"stat"},it={class:"stat-value"},ot={class:"stat"},lt={class:"stat-value"},rt={class:"stat"},nt={key:0,class:"ministry-leader"},dt={class:"modal-content"},ut={class:"form-grid"},ct={class:"modal-actions"},vt=j({__name:"participantes",setup(k){const{participants:y,badges:i,ministries:c,loading:r,fetchParticipants:l,fetchBadges:m,fetchMinistries:d,createBadge:g,getLevelLabel:x,getRoleLabel:w,getBadgeTypeLabel:U}=la(),C=We(),h=R(0),E=R(!1),_=de({search:"",level:"",role:""}),A=de({name:"",description:"",type:"",iconUrl:"",color:"#6B7280",isAutoAwarded:!1}),f=[{key:"participants",label:"Participantes"},{key:"badges",label:"Badges"},{key:"ministries",label:"MinistÃ©rios"}],p=[{label:"Todos os nÃ­veis",value:""},{label:"Novato",value:"NOVICE"},{label:"Servo",value:"SERVANT"},{label:"LÃ­der",value:"LEADER"}],o=[{label:"Todas as funÃ§Ãµes",value:""},{label:"Membro",value:"MEMBER"},{label:"Servo",value:"SERVANT"},{label:"LÃ­der",value:"LEADER"},{label:"ResponsÃ¡vel",value:"MINISTRY_HEAD"}],S=[{label:"ParticipaÃ§Ã£o",value:"PARTICIPATION"},{label:"Conquista",value:"ACHIEVEMENT"},{label:"LideranÃ§a",value:"LEADERSHIP"},{label:"ServiÃ§o",value:"SERVICE"},{label:"Especial",value:"SPECIAL"}],B=async()=>{try{await Promise.all([l(_),m(),d()])}catch{C.add({title:"Erro",description:"Erro ao carregar dados",color:"red"})}},P=useDebounceFn(()=>{l(_)},500),W=()=>{_.search="",_.level="",_.role="",l()},be=async()=>{try{await g(A),Object.assign(A,{name:"",description:"",type:"",iconUrl:"",color:"#6B7280",isAutoAwarded:!1}),E.value=!1,C.add({title:"Sucesso",description:"Badge criado com sucesso!",color:"green"}),await m()}catch{C.add({title:"Erro",description:"Erro ao criar badge",color:"red"})}},ee=$=>{const e=$.user.profile;return e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:$.user.email.split("@")[0]},ye=$=>ee($).split(" ").map(N=>N[0]).join("").toUpperCase(),le=$=>({NOVICE:"gray",SERVANT:"blue",LEADER:"green"})[$]||"gray",he=$=>{console.log("Show details for:",$)},_e=$=>{console.log("Promote:",$)},ke=$=>{console.log("Award badge to:",$)};return pe(()=>{B()}),ie(()=>_.level,()=>{l(_)}),ie(()=>_.role,()=>{l(_)}),($,e)=>{const N=$e,X=Ie,ae=xe,O=Pe,te=ce,Ve=oa,K=Ne("UFormGroup"),Ae=Je,Ee=Ge,Se=Qe;return v(),V("div",ra,[a("div",na,[e[14]||(e[14]=a("div",{class:"header-content"},[a("h1",{class:"page-title"},"Sistema de ClassificaÃ§Ã£o de Participantes"),a("p",{class:"page-description"}," Gerencie perfis, nÃ­veis, badges e promoÃ§Ãµes dos participantes ")],-1)),a("div",da,[n(N,{icon:"i-heroicons-plus",onClick:e[0]||(e[0]=t=>E.value=!0),color:"primary"},{default:u(()=>e[13]||(e[13]=[I(" Criar Badge ")])),_:1,__:[13]})])]),n(Ve,{modelValue:s(h),"onUpdate:modelValue":e[4]||(e[4]=t=>ue(h)?h.value=t:null),items:f,class:"main-tabs"},{participants:u(()=>[a("div",ua,[a("div",ca,[a("div",va,[n(X,{modelValue:s(_).search,"onUpdate:modelValue":e[1]||(e[1]=t=>s(_).search=t),placeholder:"Buscar participantes...",icon:"i-heroicons-magnifying-glass",onInput:s(P)},null,8,["modelValue","onInput"]),n(ae,{modelValue:s(_).level,"onUpdate:modelValue":e[2]||(e[2]=t=>s(_).level=t),options:p,placeholder:"Filtrar por nÃ­vel"},null,8,["modelValue"]),n(ae,{modelValue:s(_).role,"onUpdate:modelValue":e[3]||(e[3]=t=>s(_).role=t),options:o,placeholder:"Filtrar por funÃ§Ã£o"},null,8,["modelValue"]),n(N,{onClick:W,variant:"ghost",icon:"i-heroicons-x-mark"},{default:u(()=>e[15]||(e[15]=[I(" Limpar ")])),_:1,__:[15]})])]),a("div",pa,[(v(!0),V(H,null,F(s(y),t=>{var G;return v(),V("div",{key:t.id,class:"participant-card"},[a("div",ga,[a("div",fa,[(G=t.user.profile)!=null&&G.avatar?(v(),V("img",{key:0,src:t.user.profile.avatar,alt:ee(t),class:"avatar-image"},null,8,ma)):(v(),V("div",ba,b(ye(t)),1))]),a("div",ya,[a("h3",ha,b(ee(t)),1),a("p",_a,b(t.user.email),1)])]),a("div",ka,[a("div",Va,[e[16]||(e[16]=a("span",{class:"stat-label"},"NÃ­vel:",-1)),n(O,{color:le(t.level)},{default:u(()=>[I(b(s(x)(t.level)),1)]),_:2},1032,["color"])]),a("div",Aa,[e[17]||(e[17]=a("span",{class:"stat-label"},"FunÃ§Ã£o:",-1)),n(O,{color:"gray"},{default:u(()=>[I(b(s(w)(t.role)),1)]),_:2},1024)]),a("div",Ea,[e[18]||(e[18]=a("span",{class:"stat-label"},"Eventos:",-1)),a("span",Sa,b(t.totalEvents),1)]),a("div",wa,[e[19]||(e[19]=a("span",{class:"stat-label"},"Horas:",-1)),a("span",Ca,b(t.totalHours)+"h",1)]),a("div",$a,[e[20]||(e[20]=a("span",{class:"stat-label"},"Pontos:",-1)),a("span",Ia,b(t.points),1)])]),a("div",xa,[a("h4",null,"Badges ("+b(t.badges.length)+")",1),a("div",Pa,[(v(!0),V(H,null,F(t.badges.slice(0,3),z=>(v(),V("div",{key:z.id,class:"badge-item",title:z.badge.name},[a("div",{class:"badge-icon",style:se({backgroundColor:z.badge.color})},[z.badge.iconUrl?(v(),T(te,{key:0,name:z.badge.iconUrl},null,8,["name"])):(v(),V("span",za,"ðŸ†"))],4)],8,Ta))),128)),t.badges.length>3?(v(),V("div",La," +"+b(t.badges.length-3),1)):M("",!0)])]),a("div",Ra,[n(N,{size:"sm",variant:"ghost",onClick:z=>he(t)},{default:u(()=>e[21]||(e[21]=[I(" Ver Detalhes ")])),_:2,__:[21]},1032,["onClick"]),n(N,{size:"sm",color:"primary",onClick:z=>_e(t)},{default:u(()=>e[22]||(e[22]=[I(" Promover ")])),_:2,__:[22]},1032,["onClick"]),n(N,{size:"sm",variant:"outline",onClick:z=>ke(t)},{default:u(()=>e[23]||(e[23]=[I(" Atribuir Badge ")])),_:2,__:[23]},1032,["onClick"])])])}),128))]),s(r)?(v(),V("div",Ba,e[24]||(e[24]=[a("div",{class:"loading-spinner"},null,-1),a("p",null,"Carregando participantes...",-1)]))):s(y).length===0?(v(),V("div",Na,[n(te,{name:"i-heroicons-users",class:"empty-icon"}),e[25]||(e[25]=a("h3",null,"Nenhum participante encontrado",-1)),e[26]||(e[26]=a("p",null,"NÃ£o hÃ¡ participantes cadastrados no sistema ainda.",-1))])):M("",!0)])]),badges:u(()=>[a("div",Ma,[a("div",Ua,[(v(!0),V(H,null,F(s(i),t=>(v(),V("div",{key:t.id,class:"badge-card"},[a("div",qa,[a("div",{class:"badge-icon-large",style:se({backgroundColor:t.color})},[t.iconUrl?(v(),T(te,{key:0,name:t.iconUrl,size:"24"},null,8,["name"])):(v(),V("span",Oa,"ðŸ†"))],4),a("div",Da,[a("h3",Ha,b(t.name),1),a("p",Fa,b(s(U)(t.type)),1)])]),a("p",ja,b(t.description),1),a("div",Ka,[a("div",Ga,[e[27]||(e[27]=a("span",{class:"stat-label"},"AtribuÃ­do:",-1)),a("span",Ya,b(t.totalAwarded)+" vezes",1)]),a("div",Ja,[e[28]||(e[28]=a("span",{class:"stat-label"},"Auto-atribuiÃ§Ã£o:",-1)),n(O,{color:t.isAutoAwarded?"green":"gray"},{default:u(()=>[I(b(t.isAutoAwarded?"Sim":"NÃ£o"),1)]),_:2},1032,["color"])]),a("div",Qa,[e[29]||(e[29]=a("span",{class:"stat-label"},"Status:",-1)),n(O,{color:t.isActive?"green":"red"},{default:u(()=>[I(b(t.isActive?"Ativo":"Inativo"),1)]),_:2},1032,["color"])])])]))),128))])])]),ministries:u(()=>[a("div",Wa,[a("div",Xa,[(v(!0),V(H,null,F(s(c),t=>{var G,z;return v(),V("div",{key:t.id,class:"ministry-card"},[a("div",Za,[a("h3",et,b(t.name),1),n(O,{color:t.isActive?"green":"red"},{default:u(()=>[I(b(t.isActive?"Ativo":"Inativo"),1)]),_:2},1032,["color"])]),a("p",at,b(t.description),1),a("div",tt,[a("div",st,[e[30]||(e[30]=a("span",{class:"stat-label"},"Membros:",-1)),a("span",it,b(t._count.members),1)]),a("div",ot,[e[31]||(e[31]=a("span",{class:"stat-label"},"ServiÃ§os:",-1)),a("span",lt,b(t._count.services),1)]),a("div",rt,[e[32]||(e[32]=a("span",{class:"stat-label"},"NÃ­vel mÃ­nimo:",-1)),n(O,{color:le(t.minLevel)},{default:u(()=>[I(b(s(x)(t.minLevel)),1)]),_:2},1032,["color"])])]),t.leader?(v(),V("div",nt,[e[33]||(e[33]=a("h4",null,"LÃ­der:",-1)),a("p",null,b((G=t.leader.profile)==null?void 0:G.firstName)+" "+b((z=t.leader.profile)==null?void 0:z.lastName),1)])):M("",!0)])}),128))])])]),_:1},8,["modelValue"]),n(Se,{modelValue:s(E),"onUpdate:modelValue":e[12]||(e[12]=t=>ue(E)?E.value=t:null)},{default:u(()=>[a("div",dt,[e[36]||(e[36]=a("h2",null,"Criar Novo Badge",-1)),a("form",{onSubmit:ge(be,["prevent"])},[a("div",ut,[n(K,{label:"Nome",required:""},{default:u(()=>[n(X,{modelValue:s(A).name,"onUpdate:modelValue":e[5]||(e[5]=t=>s(A).name=t),placeholder:"Nome do badge",required:""},null,8,["modelValue"])]),_:1}),n(K,{label:"Tipo",required:""},{default:u(()=>[n(ae,{modelValue:s(A).type,"onUpdate:modelValue":e[6]||(e[6]=t=>s(A).type=t),options:S,placeholder:"Selecionar tipo",required:""},null,8,["modelValue"])]),_:1}),n(K,{label:"Cor"},{default:u(()=>[n(X,{modelValue:s(A).color,"onUpdate:modelValue":e[7]||(e[7]=t=>s(A).color=t),type:"color",placeholder:"#6B7280"},null,8,["modelValue"])]),_:1}),n(K,{label:"Ãcone URL"},{default:u(()=>[n(X,{modelValue:s(A).iconUrl,"onUpdate:modelValue":e[8]||(e[8]=t=>s(A).iconUrl=t),placeholder:"heroicons:trophy"},null,8,["modelValue"])]),_:1})]),n(K,{label:"DescriÃ§Ã£o",required:""},{default:u(()=>[n(Ae,{modelValue:s(A).description,"onUpdate:modelValue":e[9]||(e[9]=t=>s(A).description=t),placeholder:"DescriÃ§Ã£o detalhada do badge...",required:""},null,8,["modelValue"])]),_:1}),n(Ee,{modelValue:s(A).isAutoAwarded,"onUpdate:modelValue":e[10]||(e[10]=t=>s(A).isAutoAwarded=t),label:"AtribuiÃ§Ã£o automÃ¡tica"},null,8,["modelValue"]),a("div",ct,[n(N,{type:"button",variant:"ghost",onClick:e[11]||(e[11]=t=>E.value=!1)},{default:u(()=>e[34]||(e[34]=[I(" Cancelar ")])),_:1,__:[34]}),n(N,{type:"submit",color:"primary",loading:s(r)},{default:u(()=>e[35]||(e[35]=[I(" Criar Badge ")])),_:1,__:[35]},8,["loading"])])],32)])]),_:1},8,["modelValue"])])}}}),Tt=Me(vt,[["__scopeId","data-v-f30f1260"]]);export{Tt as default};
