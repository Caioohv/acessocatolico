import{_ as E}from"./C4sSfo7S.js";import B from"./DcD60dw0.js";import{a as D}from"./BtdOvfXc.js";import{f as I,h as U,D as p,G as j,u as M,c as x,o as f,a as t,j as P,k as C,b as o,w as l,d as u,t as m,l as n,C as g,i as R,N as L,F as S,B as z,E as V,T as O,H as F}from"./wPnuorX7.js";import{u as G}from"./Ba4-aC7x.js";import"./CMLLu8c2.js";const H={class:"min-h-screen bg-gray-50"},Z={class:"bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-40"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},J={class:"flex justify-between h-16"},K={class:"flex items-center"},Q={class:"hidden md:flex items-center space-x-8"},W={class:"flex items-center space-x-3 cursor-pointer"},X={class:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center"},Y={class:"text-white text-sm font-medium"},ee={class:"hidden lg:block"},te={class:"text-sm font-medium text-gray-900"},se={class:"text-xs text-gray-500"},oe={class:"md:hidden flex items-center"},re={key:0,class:"md:hidden border-t border-gray-200 bg-white"},ae={class:"px-2 pt-2 pb-3 space-y-1"},ne={class:"border-t border-gray-200 pt-4 pb-3"},ie={class:"px-4 flex items-center"},le={class:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center"},de={class:"text-white font-medium"},ce={class:"ml-3"},ue={class:"text-base font-medium text-gray-800"},me={class:"text-sm font-medium text-gray-500"},fe={class:"mt-3 px-2 space-y-1"},xe={class:"pt-16"},_e={key:0,class:"fixed top-20 right-4 z-50 space-y-2"},pe={class:"p-4"},ge={class:"flex items-start"},he={class:"flex-shrink-0"},ve={class:"ml-3 w-0 flex-1"},be={class:"text-sm font-medium text-white"},ye={class:"ml-4 flex-shrink-0 flex"},we=["onClick"],De={__name:"admin",setup(ke){const{user:r,logout:N}=I(),{toasts:h,removeToast:$}=G(),d=U(!1),v=p(()=>{var s,e;return(s=r.value)!=null&&s.profile?`${r.value.profile.firstName} ${r.value.profile.lastName}`.trim():((e=r.value)==null?void 0:e.email)||"Usuário"}),b=p(()=>{var s,e,i,c,_;return(e=(s=r.value)==null?void 0:s.profile)!=null&&e.firstName&&((c=(i=r.value)==null?void 0:i.profile)!=null&&c.lastName)?`${r.value.profile.firstName.charAt(0)}${r.value.profile.lastName.charAt(0)}`.toUpperCase():(_=r.value)!=null&&_.email?r.value.email.charAt(0).toUpperCase():"??"}),y=p(()=>{var e;return{ADMIN:"Administrador",PRIEST:"Padre",ORGANIZER:"Organizador",MEMBER:"Membro"}[(e=r.value)==null?void 0:e.role]||"Usuário"}),A=[[{label:"Perfil",icon:"heroicons:user-circle",click:()=>g("/dashboard")}],[{label:"Configurações",icon:"heroicons:cog-6-tooth",click:()=>g("/dashboard")}],[{label:"Sair",icon:"heroicons:arrow-right-on-rectangle",click:w}]];async function w(){try{await N(),await g("/login")}catch(s){console.error("Error logging out:",s)}}function T(s){const e={success:"heroicons:check-circle",error:"heroicons:x-circle",warning:"heroicons:exclamation-triangle",info:"heroicons:information-circle"};return e[s]||e.info}return j(()=>F().fullPath,()=>{d.value=!1}),M({titleTemplate:s=>{const e="AcessoCatólico - Administração";return s?`${s} - ${e}`:e}}),(s,e)=>{const i=E,c=B,_=R("UDropdown"),k=D;return f(),x("div",H,[t("nav",Z,[t("div",q,[t("div",J,[t("div",K,[o(i,{to:"/",class:"flex-shrink-0 flex items-center"},{default:l(()=>e[4]||(e[4]=[t("div",{class:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center"},[t("span",{class:"text-white font-bold text-lg"},"A")],-1),t("span",{class:"ml-2 text-xl font-bold text-gray-900"},"AcessoCatólico",-1)])),_:1,__:[4]}),e[5]||(e[5]=t("div",{class:"ml-4 px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full"}," Administração ",-1))]),t("div",Q,[o(i,{to:"/dashboard",class:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors","active-class":"text-blue-600 bg-blue-50"},{default:l(()=>e[6]||(e[6]=[u(" Dashboard ")])),_:1,__:[6]}),o(i,{to:"/admin/eventos",class:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors","active-class":"text-blue-600 bg-blue-50"},{default:l(()=>e[7]||(e[7]=[u(" Eventos ")])),_:1,__:[7]}),o(i,{to:"/admin/padres",class:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors","active-class":"text-blue-600 bg-blue-50"},{default:l(()=>e[8]||(e[8]=[u(" Padres ")])),_:1,__:[8]}),o(_,{items:A},{default:l(()=>[t("div",W,[t("div",X,[t("span",Y,m(n(b)),1)]),t("div",ee,[t("div",te,m(n(v)),1),t("div",se,m(n(y)),1)]),o(c,{name:"heroicons:chevron-down",class:"h-4 w-4 text-gray-400"})])]),_:1})]),t("div",oe,[o(k,{variant:"ghost",color:"gray",icon:"heroicons:bars-3",onClick:e[0]||(e[0]=a=>d.value=!n(d))})])])]),n(d)?(f(),x("div",re,[t("div",ae,[o(i,{to:"/dashboard",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50",onClick:e[1]||(e[1]=a=>d.value=!1)},{default:l(()=>e[9]||(e[9]=[u(" Dashboard ")])),_:1,__:[9]}),o(i,{to:"/admin/eventos",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50",onClick:e[2]||(e[2]=a=>d.value=!1)},{default:l(()=>e[10]||(e[10]=[u(" Eventos ")])),_:1,__:[10]}),o(i,{to:"/admin/padres",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50",onClick:e[3]||(e[3]=a=>d.value=!1)},{default:l(()=>e[11]||(e[11]=[u(" Padres ")])),_:1,__:[11]})]),t("div",ne,[t("div",ie,[t("div",le,[t("span",de,m(n(b)),1)]),t("div",ce,[t("div",ue,m(n(v)),1),t("div",me,m(n(y)),1)])]),t("div",fe,[o(k,{variant:"ghost",color:"gray",class:"w-full justify-start",onClick:w},{default:l(()=>[o(c,{name:"heroicons:arrow-right-on-rectangle",class:"h-5 w-5 mr-3"}),e[12]||(e[12]=u(" Sair "))]),_:1,__:[12]})])])])):C("",!0)]),t("main",xe,[L(s.$slots,"default")]),(f(),P(O,{to:"body"},[n(h).length>0?(f(),x("div",_e,[(f(!0),x(S,null,z(n(h),a=>(f(),x("div",{key:a.id,class:V(["max-w-sm w-full shadow-lg rounded-lg pointer-events-auto overflow-hidden",a.type==="success"?"bg-green-500":a.type==="error"?"bg-red-500":a.type==="warning"?"bg-yellow-500":"bg-blue-500"])},[t("div",pe,[t("div",ge,[t("div",he,[o(c,{name:T(a.type),class:"h-5 w-5 text-white"},null,8,["name"])]),t("div",ve,[t("p",be,m(a.message),1)]),t("div",ye,[t("button",{onClick:Ce=>n($)(a.id),class:"inline-flex text-white hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-white"},[o(c,{name:"heroicons:x-mark",class:"h-4 w-4"})],8,we)])])])],2))),128))])):C("",!0)]))])}}};export{De as default};
